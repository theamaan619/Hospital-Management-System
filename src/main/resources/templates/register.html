<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  th:replace="base::layout(~{::section})"
>
  <head>
    <meta charset="ISO-8859-1" />
    <title>Register | Hospital Management System</title>
  </head>
  <body>
    <section
      th:style="'background: url(img/hos5.png) no-repeat center center/cover; 
  height: 100vh; display: flex; align-items: center; 
  justify-content: center; margin: 0; position: relative;'"
    >
      <!-- Background Dark Overlay -->
      <div
        th:style="'background: rgba(0, 0, 0, 0.6); position: absolute; 
      top: 0; left: 0; width: 100%; height: 100%;'"
      ></div>

      <div
        th:style="'position: relative; z-index: 1; width: 100%; max-width: 450px;'"
      >
        <div
          th:style="'background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); 
          border-radius: 15px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); 
          padding: 30px; min-height: 500px; max-height: 600px; overflow: auto;'"
        >
          <div
            th:style="'background: #007bff; color: white; text-align: center; 
              padding: 10px; border-top-left-radius: 15px; 
              border-top-right-radius: 15px; font-weight: bold;'"
          >
            <h4>Register</h4>
          </div>

          <div
            th:style="'padding: 20px; min-height: 300px; max-height: 400px; overflow: auto;'"
          >
            <!-- Success & Error Messages -->
            <th:block th:if="${session.succMsg}">
              <p
                th:style="'color: green; text-align: center; font-weight: bold; 
                    word-wrap: break-word;'"
                th:text="${session.succMsg}"
              ></p>
              <th:block
                th:text="${#session.removeAttribute('succMsg')}"
              ></th:block>
            </th:block>

            <th:block th:if="${session.errorMsg}">
              <p
                th:style="'color: red; text-align: center; font-weight: bold; 
                    word-wrap: break-word; max-height: 60px; overflow: hidden;'"
                th:text="${session.errorMsg}"
              ></p>
              <th:block
                th:text="${#session.removeAttribute('errorMsg')}"
              ></th:block>
            </th:block>

            <!-- Registration Form -->
            <form
              action="registerUser"
              method="post"
              id="userRegister"
              novalidate
            >
              <div th:style="'margin-bottom: 10px;'">
                <label th:style="'font-weight: bold;'">Full Name</label>
                <input
                  type="text"
                  name="fullName"
                  placeholder="Enter your full name"
                  th:style="'width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #ccc;'"
                />
              </div>

              <div th:style="'margin-bottom: 10px;'">
                <label th:style="'font-weight: bold;'">Mobile Number</label>
                <input
                  type="text"
                  name="mobNo"
                  placeholder="Enter your mobile number"
                  th:style="'width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #ccc;'"
                />
              </div>

              <div th:style="'margin-bottom: 10px;'">
                <label th:style="'font-weight: bold;'">Email</label>
                <input
                  type="email"
                  name="email"
                  placeholder="Enter your email"
                  th:style="'width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #ccc;'"
                />
              </div>

              <div th:style="'margin-bottom: 10px;'">
                <label th:style="'font-weight: bold;'">Password</label>
                <input
                  type="password"
                  name="password"
                  placeholder="Enter your password"
                  th:style="'width: 100%; padding: 8px; border-radius: 5px; border: 1px solid #ccc;'"
                />
              </div>

              <input type="hidden" name="role" value="ROLE_USER" />
              <input type="hidden" name="enable" value="true" />
              <input type="hidden" name="certificate" value="NA" />

              <button
                type="submit"
                th:style="'width: 100%; background: #007bff; color: white; padding: 10px; 
                        border: none; border-radius: 5px; font-weight: bold; cursor: pointer; 
                        transition: 0.3s;'"
                onmouseover="this.style.background='#0056b3'"
                onmouseout="this.style.background='#007bff'"
              >
                Register
              </button>
            </form>
          </div>

          <div
            th:style="'text-align: center; background: #f8f9fa; padding: 10px; 
              border-bottom-left-radius: 15px; border-bottom-right-radius: 15px;'"
          >
            <p th:style="'margin: 0;'">
              Are you a doctor?
              <a
                href="doctRegister"
                th:style="'color: #007bff; font-weight: bold; text-decoration: none;'"
                >Click here</a
              >
            </p>
          </div>
        </div>
      </div>
    </section>
  </body>
</html>
